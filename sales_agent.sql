CREATE OR REPLACE AGENT SNOW_INTEL_BANK_DEMO.SNOW_INTEL_BANK_DEMO.SNOW_INTEL_BANK_DEMO_SALES_AGENT
  FROM SPECIFICATION $$
{"models":{"orchestration":"auto"},"orchestration":{},"tools":[{"tool_spec":{"type":"cortex_analyst_text_to_sql","name":"snow_intel_bank_demo_sales_agent","description":"TABLE1: DIM_OFFICERS\n- Database: SNOW_INTEL_BANK_DEMO, Schema: SNOW_INTEL_BANK_DEMO\n- This dimension table stores information about bank employees who manage loan applications. Each officer is uniquely identified and assigned to a specific branch and geographic region.\n- The table serves as a reference for officer assignments and enables analysis of loan performance by branch location and regional territory. It connects to loan applications through the OFFICER_ID key.\n- LIST OF COLUMNS: OFFICER_ID (primary key, unique identifier for each officer - links to OFFICER_ID in FACT_LOANS), OFFICER_NAME (full name of the loan officer), BRANCH_NAME (specific bank branch location where officer works), REGION (geographic territory such as North, South, East, or West)\n\nTABLE2: FACT_LOANS\n- Database: SNOW_INTEL_BANK_DEMO, Schema: SNOW_INTEL_BANK_DEMO\n- This fact table contains detailed records of loan applications submitted by customers. Each record captures application details including loan characteristics, requested funding amounts, submission dates, and current processing status.\n- The table supports sales performance analysis through metrics like application count, total sales amount, and average ticket size. It links to officer information to enable performance tracking by branch and region.\n- LIST OF COLUMNS: APP_ID (unique loan application identifier), OFFICER_ID (foreign key linking to DIM_OFFICERS table), LOAN_TYPE (category such as Mortgage, Auto, Personal, or Business), CURRENT_STATUS (application state: Requested, Under Review, Approved, or Rejected), REQUESTED_AMOUNT (total loan amount requested in USD), APPLICATION_DATE (date when application was submitted)\n\nREASONING:\nThis semantic view focuses on sales performance and loan application management within a banking context. The view combines transactional loan data with officer organizational information to enable comprehensive sales analysis. The relationship between FACT_LOANS and DIM_OFFICERS through OFFICER_ID allows users to analyze loan volumes, requested amounts, and application patterns across different officers, branches, and regions. The view is specifically designed for sales performance queries and explicitly excludes customer risk or credit information. Key metrics include application counts, total sales amounts, and average ticket sizes that can be analyzed over time and across organizational hierarchies.\n\nDESCRIPTION:\nThe SALES_SV semantic view provides sales performance analytics for bank loan applications across the SNOW_INTEL_BANK_DEMO database. It combines the FACT_LOANS transaction table with the DIM_OFFICERS dimension table through the OFFICER_ID relationship, enabling analysis of loan application volumes, requested amounts, and sales metrics by officer, branch, and region. The view supports queries about application counts, total sales amounts, average ticket sizes, and loan types (Mortgage, Auto, Personal, Business) over time, while explicitly excluding access to customer credit scores or risk data. Users can analyze sales performance across geographic territories (North, South, East, West) and track application statuses (Requested, Under Review, Approved, Rejected) to monitor the loan pipeline and officer productivity."}}],"tool_resources":{"snow_intel_bank_demo_sales_agent":{"execution_environment":{"type":"warehouse","warehouse":""},"semantic_view":"SNOW_INTEL_BANK_DEMO.SNOW_INTEL_BANK_DEMO.SALES_SV"}}}
  $$;