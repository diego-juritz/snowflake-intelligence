CREATE OR REPLACE AGENT SNOW_INTEL_BANK_DEMO.SNOW_INTEL_BANK_DEMO.SNOW_INTEL_BANK_DEMO_RISK_AGENT 
  FROM SPECIFICATION $$
  {"models":{"orchestration":"auto"},"orchestration":{},"tools":[{"tool_spec":{"type":"cortex_analyst_text_to_sql","name":"cortex_risk","description":"TABLE1: DIM_CUSTOMERS\n- Database: SNOW_INTEL_BANK_DEMO, Schema: SNOW_INTEL_BANK_DEMO\n- This dimension table stores comprehensive customer profile information including identification, geographic location, and creditworthiness metrics. Each customer record is uniquely identified and contains both static attributes and temporal membership data.\n- The table serves as the primary customer reference for analyzing customer demographics, credit profiles, and account tenure across the banking system.\n- LIST OF COLUMNS: CUST_ID (unique identifier for banking customer - links to CUST_ID in FACT_LOANS), CITY (customer residence city), CREDIT_SCORE (credit rating from 350 to 850, higher is better), MEMBER_SINCE (date when customer opened first account)\n\nTABLE2: FACT_LOANS\n- Database: SNOW_INTEL_BANK_DEMO, Schema: SNOW_INTEL_BANK_DEMO\n- This fact table captures all loan application transactions submitted by customers, recording the complete lifecycle of each application from submission through final disposition. Each record represents a distinct loan request with associated customer reference, loan characteristics, and processing metrics.\n- The table enables analysis of loan portfolio composition, application processing efficiency, approval patterns, and funding requirements across different loan categories and customer segments.\n- LIST OF COLUMNS: APP_ID (unique loan application identifier), CUST_ID (foreign key linking to DIM_CUSTOMERS), CURRENT_STATUS (latest application state: Requested, Under Review, Approved, or Rejected), LOAN_TYPE (loan category: Mortgage, Auto, Personal, or Business), REQUESTED_AMOUNT (total money requested in USD), DAYS_OPEN (number of days since application creation), APPLICATION_DATE (date application was submitted)\n\nREASONING:\nThis semantic view is designed for risk analysis in banking operations, combining customer creditworthiness profiles with loan application data. The relationship between DIM_CUSTOMERS and FACT_LOANS through CUST_ID enables comprehensive risk assessment by correlating customer credit scores, geographic locations, and membership tenure with their loan requests, amounts, types, and approval outcomes. This integrated view supports risk officers in evaluating lending patterns, monitoring application processing times, analyzing approval rates across customer segments, and assessing portfolio risk exposure across different loan categories and geographic markets.\n\nDESCRIPTION:\nThe RISK_SV semantic view provides a comprehensive framework for banking risk analysis by integrating customer profiles with loan application data from the SNOW_INTEL_BANK_DEMO database. DIM_CUSTOMERS contains customer identification, geographic location (CITY), creditworthiness metrics (CREDIT_SCORE ranging 350-850), and membership timeline (MEMBER_SINCE), while FACT_LOANS tracks loan applications with details on loan characteristics (LOAN_TYPE: Mortgage, Auto, Personal, Business), requested funding amounts, application status progression (Requested, Under Review, Approved, Rejected), and processing metrics (DAYS_OPEN, APPLICATION_DATE). The two tables are linked through CUST_ID, enabling risk officers to correlate customer credit profiles and demographics with lending patterns, approval outcomes, and portfolio exposure across different loan categories and customer segments. This view supports comprehensive risk assessment, credit decision analysis, and portfolio monitoring for banking operations."}}],"tool_resources":{"cortex_risk":{"execution_environment":{"type":"warehouse","warehouse":""},"semantic_view":"SNOW_INTEL_BANK_DEMO.SNOW_INTEL_BANK_DEMO.RISK_SV"}}}
  $$;